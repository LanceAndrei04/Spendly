{% extends "base.html" %} {% block title %}Expenses{% endblock %} {% block
content %}
<div class="row">
  <div class="col-12">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h1>Expenses</h1>
      <button
        class="btn btn-primary"
        data-bs-toggle="modal"
        data-bs-target="#addExpenseModal"
      >
        <i class="fas fa-plus-circle me-2"></i>Add New Expense
      </button>
    </div>
  </div>
</div>

<!-- Expense Categories -->
<div class="row g-4 mb-5">
  <!-- Inventory -->
  <div class="col-md-3">
    <div class="category-card" data-category="inventory">
      <div
        class="icon-wrapper"
        style="background-color: rgba(52, 152, 219, 0.1)"
      >
        <i class="fas fa-boxes-stacked" style="color: #3498db"></i>
      </div>
      <h3>Inventory</h3>
      <p class="amount">$0.00</p>
      <div class="progress" style="height: 5px">
        <div
          class="progress-bar"
          role="progressbar"
          style="width: 0%; background-color: #3498db"
        ></div>
      </div>
    </div>
  </div>

  <!-- Rent -->
  <div class="col-md-3">
    <div class="category-card" data-category="rent">
      <div
        class="icon-wrapper"
        style="background-color: rgba(155, 89, 182, 0.1)"
      >
        <i class="fas fa-building" style="color: #9b59b6"></i>
      </div>
      <h3>Rent</h3>
      <p class="amount">$0.00</p>
      <div class="progress" style="height: 5px">
        <div
          class="progress-bar"
          role="progressbar"
          style="width: 0%; background-color: #9b59b6"
        ></div>
      </div>
    </div>
  </div>

  <!-- Utilities -->
  <div class="col-md-3">
    <div class="category-card" data-category="utilities">
      <div
        class="icon-wrapper"
        style="background-color: rgba(46, 204, 113, 0.1)"
      >
        <i class="fas fa-bolt" style="color: #2ecc71"></i>
      </div>
      <h3>Utilities</h3>
      <p class="amount">$0.00</p>
      <div class="progress" style="height: 5px">
        <div
          class="progress-bar"
          role="progressbar"
          style="width: 0%; background-color: #2ecc71"
        ></div>
      </div>
    </div>
  </div>

  <!-- Salaries -->
  <div class="col-md-3">
    <div class="category-card" data-category="salaries">
      <div
        class="icon-wrapper"
        style="background-color: rgba(231, 76, 60, 0.1)"
      >
        <i class="fas fa-users" style="color: #e74c3c"></i>
      </div>
      <h3>Salaries</h3>
      <p class="amount">$0.00</p>
      <div class="progress" style="height: 5px">
        <div
          class="progress-bar"
          role="progressbar"
          style="width: 0%; background-color: #e74c3c"
        ></div>
      </div>
    </div>
  </div>

  <!-- Equipment -->
  <div class="col-md-3">
    <div class="category-card" data-category="equipment">
      <div
        class="icon-wrapper"
        style="background-color: rgba(241, 196, 15, 0.1)"
      >
        <i class="fas fa-toolbox" style="color: #f1c40f"></i>
      </div>
      <h3>Equipment</h3>
      <p class="amount">$0.00</p>
      <div class="progress" style="height: 5px">
        <div
          class="progress-bar"
          role="progressbar"
          style="width: 0%; background-color: #f1c40f"
        ></div>
      </div>
    </div>
  </div>

  <!-- Taxes -->
  <div class="col-md-3">
    <div class="category-card" data-category="taxes">
      <div
        class="icon-wrapper"
        style="background-color: rgba(230, 126, 34, 0.1)"
      >
        <i class="fas fa-file-invoice-dollar" style="color: #e67e22"></i>
      </div>
      <h3>Taxes</h3>
      <p class="amount">$0.00</p>
      <div class="progress" style="height: 5px">
        <div
          class="progress-bar"
          role="progressbar"
          style="width: 0%; background-color: #e67e22"
        ></div>
      </div>
    </div>
  </div>

  <!-- Loans -->
  <div class="col-md-3">
    <div class="category-card" data-category="loans">
      <div class="icon-wrapper" style="background-color: rgba(52, 73, 94, 0.1)">
        <i class="fas fa-money-bill-wave" style="color: #34495e"></i>
      </div>
      <h3>Loans</h3>
      <p class="amount">$0.00</p>
      <div class="progress" style="height: 5px">
        <div
          class="progress-bar"
          role="progressbar"
          style="width: 0%; background-color: #34495e"
        ></div>
      </div>
    </div>
  </div>

  <!-- Delivery -->
  <div class="col-md-3">
    <div class="category-card" data-category="delivery">
      <div
        class="icon-wrapper"
        style="background-color: rgba(127, 140, 141, 0.1)"
      >
        <i class="fas fa-truck-fast" style="color: #7f8c8d"></i>
      </div>
      <h3>Delivery</h3>
      <p class="amount">$0.00</p>
      <div class="progress" style="height: 5px">
        <div
          class="progress-bar"
          role="progressbar"
          style="width: 0%; background-color: #7f8c8d"
        ></div>
      </div>
    </div>
  </div>
</div>

<!-- Add Expense Modal -->
<div
  class="modal fade"
  id="addExpenseModal"
  tabindex="-1"
  aria-labelledby="addExpenseModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="addExpenseModalLabel">Add New Expense</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <form id="addExpenseForm">
          <div class="row">
            <div class="col-md-6 mb-3">
              <label class="form-label">Amount</label>
              <div class="input-group">
                <span class="input-group-text"
                  ><i class="fas fa-dollar-sign"></i
                ></span>
                <input
                  type="number"
                  name="amount"
                  class="form-control"
                  required
                  step="0.01"
                  min="0"
                  placeholder="Enter amount"
                />
              </div>
            </div>
            <div class="col-md-6 mb-3">
              <label class="form-label">Date</label>
              <div class="input-group">
                <span class="input-group-text"
                  ><i class="fas fa-calendar"></i
                ></span>
                <input type="date" name="date" class="form-control" required />
              </div>
            </div>
          </div>
          <div class="mb-3">
            <label class="form-label">Category</label>
            <select name="category" class="form-select" required>
              <option value="" selected disabled>Select a category</option>
              <option value="inventory">Inventory</option>
              <option value="rent">Rent</option>
              <option value="utilities">Utilities</option>
              <option value="salaries">Salaries</option>
              <option value="equipment">Equipment</option>
              <option value="taxes">Taxes</option>
              <option value="loans">Loans</option>
              <option value="delivery">Delivery</option>
            </select>
          </div>
          <div class="mb-3">
            <label class="form-label">Description</label>
            <textarea
              name="description"
              class="form-control"
              rows="3"
              placeholder="Enter expense description"
              required
            ></textarea>
          </div>
          <div class="row">
            <div class="col-md-6 mb-3">
              <label class="form-label">Payment Method</label>
              <select name="paymentMethod" class="form-select">
                <option value="cash">Cash</option>
                <option value="credit_card">Credit Card</option>
                <option value="debit_card">Debit Card</option>
                <option value="bank_transfer">Bank Transfer</option>
                <option value="check">Check</option>
              </select>
            </div>
            <div class="col-md-6 mb-3">
              <label class="form-label">Receipt Image</label>
              <input
                type="file"
                name="receipt"
                class="form-control"
                accept="image/*"
              />
            </div>
          </div>
          <div class="mb-3">
            <label class="form-label">Additional Notes</label>
            <textarea
              name="notes"
              class="form-control"
              rows="2"
              placeholder="Any additional notes (optional)"
            ></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          <i class="fas fa-times me-2"></i>Cancel
        </button>
        <button type="submit" form="addExpenseForm" class="btn btn-primary">
          <i class="fas fa-save me-2"></i>Save Expense
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Expense List -->
<div class="row">
  <div class="col-12">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">Recent Expenses</h5>
<div class="table-responsive">
          <table class="table" id="expenseTable">
            <thead>
              <tr>
                <th>Date</th>
                <th>Category</th>
                <th>Amount</th>
                <th>Description</th>
                <th>Payment Method</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td colspan="6" class="text-center">
                  No expenses recorded yet
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .category-card {
    background-color: var(--sidebar-bg);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 1.5rem;
    transition: all 0.3s ease;
  }

  .category-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
  }

  .icon-wrapper {
    width: 50px;
    height: 50px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 1rem;
  }

  .icon-wrapper i {
    font-size: 1.5rem;
  }

  .category-card h3 {
    font-size: 1.1rem;
    margin-bottom: 0.5rem;
    color: var(--text-primary);
  }

  .category-card .amount {
    font-size: 1.5rem;
    font-weight: bold;
    margin-bottom: 1rem;
    color: var(--text-primary);
  }

  .progress {
    background-color: var(--darker-bg);
  }

  /* Modal Styles */
  .modal-content {
    background-color: var(--sidebar-bg);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .modal-header {
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  }

  .modal-footer {
    border-top: 1px solid rgba(255, 255, 255, 0.1);
  }

  .btn-close {
    filter: invert(1) grayscale(100%) brightness(200%);
  }

  .modal-title {
    color: var(--text-primary);
  }

  .form-label {
    color: var(--text-primary);
  }

  textarea.form-control {
    resize: none;
  }
</style>

<script src="{{ url_for('static', filename='js/expenses.js') }}"></script>
{% endblock %}
